<?xml version="1.0" encoding="utf-8"?>
<odoo>
<!-- //////////OPERACIONES CON LA IA  -->
    <record id="dv_data_openia_view_tree" model="ir.ui.view">
        <field name="name">dv_data_openia_view_tree</field>
        <field name="model">dv.data.openia</field>
        <field name="arch" type="xml">
            <tree string="Operaciones IA">
                <field name="model_id" />
                <field name="company_id" />
            </tree>
        </field>
    </record>
    <record id="dv_data_openia_view_form" model="ir.ui.view">
        <field name="name">dv_data_openia_view_form</field>
        <field name="model">dv.data.openia</field>
        <field name="arch" type="xml">
            <form >
                <header>
                    <button name="analyze_field_compatibility" string="Analizar con IA" type="object" />
                    <button name="button_action_datatarget" type="object" string="Insertar a target" class="btn-success" icon="fa-caret-right" accesskey="q"/>
                </header>
                <sheet>
                    
                    <group>
                        <group >
                            <field name="model_id" required="1" options="{'no_quick_create': True,'no_create_edit': True}"/> 
                            <field name="other_tab" />                           
                            <field name="field_dest_id" attrs="{'invisible': [('other_tab','!=', True)]}" options="{'no_quick_create': True,'no_create_edit': True}"/>
                        </group>
                        <group >
                            <field name="data_source_id" required="1" options="{'no_quick_create': True,'no_create_edit': True}"/>
                            <field name="company_id" required="1" options="{'no_quick_create': True,'no_create_edit': True}"/>                            
                        </group>
                    </group>
                    <notebook>
                        <page name="analisis_ia" string="Analisis IA">
                            <field name="ai_response" />
                        </page>
                        <page name="fields_viejo" string="Campos a migrar">
                            <field name="fields_old" />
                        </page>
                        <page name="fields_destino" string="Campos destino">
                            <field name="fields_dest" />
                        </page>
                        
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>


    <record id="dv_data_openia_action" model="ir.actions.act_window">
        <field name="name">Operation IA gpt</field>
        <field name="res_model">dv.data.openia</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="dv_data_openia_view_tree"/>
    </record>
    <record id="menu_dv_data_openia" model="ir.ui.menu">
        <field name="name">Operaciones con IA</field>
        <field name="parent_id" ref="dv_data_migration.menu_nhub_data_migration"/>
        <field name="action" ref="dv_data_openia_action"/>
        <field name="groups_id" eval="[(4, ref('base.group_system'))]"/>
        <field name="sequence">13</field>
    </record>

<!-- /////////CONFIGURACIONES DE OPENIA  -->
    <record id="view_dv_data_openia_config_tree" model="ir.ui.view">
        <field name="name">view_dv_data_openia_config_tree</field>
        <field name="model">dv.data.openia.config</field>
        <field eval="100" name="priority"/>
        <field name="arch" type="xml">
            <tree string="Configuracion GPT" create="false" edit="true" import="false" delete="false">
                <field name="model_gpt" />
                <field name="instruction_id" />
            </tree>
        </field>
    </record>

    <record id="dv_data_openia_config_view_form" model="ir.ui.view">
        <field name="name">dv_data_openia_config_view_form</field>
        <field name="model">dv.data.openia.config</field>
        <field name="arch" type="xml">
            <form string="">
                <sheet>
                    <group>
                        <group >
                            <field name="token_gpt" />
                            <field name="url_gpt" />
                            <field name="temperature_gpt" />
                        </group>
                        <group >
                            <field name="model_gpt" />                        
                            <field name="instruction_id" />    
                        </group>                        
                    </group>
                    <notebook>
                        <page name="Instruccion" string="Instrucciones">
                            <field name="instructions_gpt" />
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_dv_data_openia" model="ir.actions.act_window">
        <field name="name">Configuracion OpenIA GPT</field>
        <field name="res_model">dv.data.openia.config</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_dv_data_openia_config_tree"/>
    </record>
    <record id="menu_dv_configuration_openia" model="ir.ui.menu">
        <field name="name">Configuration GPT</field>
        <field name="parent_id" ref="dv_data_migration.menu_conguration_data_target_2"/>
        <field name="action" ref="action_dv_data_openia"/>
        <field name="groups_id" eval="[(4, ref('base.group_system'))]"/>
        <field name="sequence">6</field>
    </record>
<!-- /////////instruccioes DE OPENIA  -->
    <record id="view_dv_instruction_openia_config_tree" model="ir.ui.view">
        <field name="name">view_dv_instruction_openia_config_tree</field>
        <field name="model">dv.instruction.config</field>
        <field eval="100" name="priority"/>
        <field name="arch" type="xml">
            <tree string="instruccion GPT">
                <field name="name" />
                <field name="comment" />
                <field name="create_date" />
                <field name="write_date" />
            </tree>
        </field>
    </record>

    <record id="dv_dv_instruction_config_view_form" model="ir.ui.view">
        <field name="name">dv_dv_instruction_config_view_form</field>
        <field name="model">dv.instruction.config</field>
        <field name="arch" type="xml">
            <form string="">
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="name" readonly="1"/>
                        </h1>
                    </div>
                    <group>
                        <group >
                            <field name="comment" />
                            
                        </group>
                        <group >
                            <field name="create_date" />
                            <field name="write_date" />                            
                        </group>                        
                    </group>
                    <notebook>
                        <page name="Instruccion" string="Instruccion">
                            <field name="instruction" />
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_dv_instruction_openia" model="ir.actions.act_window">
        <field name="name">Instrucciones OpenIA GPT</field>
        <field name="res_model">dv.instruction.config</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_dv_instruction_openia_config_tree"/>
    </record>
    <record id="menu_dv_instruction_openia" model="ir.ui.menu">
        <field name="name">Instrucciones GPT</field>
        <field name="parent_id" ref="dv_data_migration.menu_conguration_data_target_2"/>
        <field name="action" ref="action_dv_instruction_openia"/>
        <field name="groups_id" eval="[(4, ref('base.group_system'))]"/>
        <field name="sequence">7</field>
    </record>

</odoo>
