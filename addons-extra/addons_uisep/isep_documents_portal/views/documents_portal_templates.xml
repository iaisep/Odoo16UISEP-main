<?xml version="1.0" encoding="utf-8"?>
<odoo>


    <template id="portal_my_home_documents" name="Show Documents" inherit_id="portal.portal_my_home" priority="25">
        <xpath expr="//div[hasclass('o_portal_docs')]" position="inside">
            <t t-call="portal.portal_docs_entry">
                <t t-set="title">Documentación</t>
                <t t-set="url" t-value="'/my/documents?groupby=folder_id'" />
                <t t-set="placeholder_count" t-value="'documents_count'" />
            </t>
        </xpath>
    </template>

    <template id="portal_my_documents" name="My Documents">

        <t t-call="portal.portal_layout">
            <t t-set="breadcrumbs_searchbar" t-value="True" />

            <t t-call="portal.portal_searchbar">

                <t t-set="title">Documents</t>

            </t>
           

            <div style="margin-top: -32px !important;" class="">
                <div id="portal_documents_title" class="oe_structure oe_empty" data-editor-message-default="true"
                    data-editor-message="ARRASTRE BLOQUES DE CREACIÓN AQUÍ">
                    <section class="s_banner parallax s_parallax_is_fixed o_cc o_cc5 o_colored_level pt8 pb4"
                        data-scroll-background-ratio="1"
                        data-oe-shape-data="{&quot;shape&quot;:&quot;web_editor/Origins/18&quot;,&quot;flip&quot;:[&quot;x&quot;]}"
                        data-snippet="s_banner" data-name="Banner" style="background-image: none;">
                        <span class="s_parallax_bg oe_img_bg"
                            style="background-image: url('/web/image/website.s_banner_default_image');background-position: 50% 100%" />
                        <div class="o_we_bg_filter bg-black-50" />
                        <div class="o_we_shape o_web_editor_Origins_18"
                            style="background-image: url(&quot;/web_editor/shape/web_editor%2FOrigins%2F18.svg?c1=%23E17726&amp;flip=x&quot;); background-position: 50% 50%;" />
                        <div class="container">
                            <div class="row s_nb_column_fixed o_grid_mode" data-row-count="3">
                                <div class="jumbotron rounded o_colored_level o_grid_item g-height-3 g-col-lg-8 col-lg-8"
                                    data-name="Box" style="z-index: 1; grid-area: 1 / 3 / 4 / 11;">
                                    <h1 class="o_default_snippet_text" style="text-align: center;">
                                        <span style="font-size: 36px;">Documentación</span><br />
                                    </h1>
                                    <p class="lead o_default_snippet_text" style="text-align: center;">
                                        <strong>Encuentra aquí información académica y&amp;nbsp;administrativa que te
                                            ayudara a resolver dudas y&amp;nbsp;asesoramiento sobre cómo utilizar
                                            nuestros recursos.</strong><br />
                                    </p>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>

            <t t-if="not documents">
                <p>Aún no existe documentos publicados.</p>
            </t>



            <t t-if="documents" t-call="portal.portal_table">
                <style>
                    .o_portal_wrap .o_portal_my_doc_table td {
                        white-space: normal !important;
                    }
                    .table > :not(:first-child) {
                        border-top: 0px solid #dee2e6 !important;
                        border-bottom: 2px solid #dee2e6 !important;
                    }
                    .rounded {
                        border-radius: 0rem !important;
                    }
                </style>
                <t t-foreach="grouped_documents" t-as="document">
                    <thead>

                        <t t-if="groupby == 'folder_id'">
                            <tr t-attf-class="btn-secondary">
                                <th colspan="4" class="text-left">
                                    #
                                    <span t-field="document[0].folder_id.name" />
                                </th>
                            </tr>
                            <tr>
                                <th class="col-3 text-left">Nombre</th>
                                <th class="col-7 text-left">Descripción</th>
                                <th class="col-2 text-center">Descargar</th>
                            </tr>
                        </t>

                        <t t-else="">
                            <tr>
                                <th class="text-left">Nombre</th>
                                <th class="text-left">Descripción</th>
                                <th class="text-center">Descargar</th>
                            </tr>
                        </t>

                    </thead>
                    <tbody>
                        <t t-foreach="document" t-as="document">
                            <t t-set="document_url"
                                t-value="base_url + '/web/content/ir.attachment/' + str(document.id)" />
                            <tr>

                                <td>
                                    <a target="_blank" t-att-href="document_url + '/datas?download=true'">
                                        <span t-field="document.name" />
                                    </a>
                                </td>
                                <td>
                                    <span t-field="document.description" />
                                </td>
                                <td style="text-align: center;">
                                    <a target="new" t-att-href="document_url + '/datas?download=true'" title="Download"
                                        class="mr4">
                                        <i class="fa fa-download fa-1x" role="img" aria-label="Download"></i>
                                    </a>
                                    <a target="_blank" t-att-href="document_url + '/datas'" title="Open">
                                        <i class="fa fa-newspaper-o fa-1x" role="img" aria-label="Open"></i>
                                    </a>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </t>
            </t>
        </t>
    </template>

</odoo>